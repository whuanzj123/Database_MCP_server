# Secure Multi-Database MCP Server Configuration
# Copy this file to .env and customize for your environment

# ==============================================
# SERVER CONFIGURATION
# ==============================================

# MCP Server Mode (stdio, web, container)
MCP_MODE=stdio

# Web mode configuration
MCP_PORT=8001
MCP_HOST=127.0.0.1

# ==============================================
# DATABASE CONNECTION SETTINGS
# ==============================================

# Maximum number of simultaneous database connections
DB_MAX_CONNECTIONS=10

# Database connection timeout in seconds
DB_CONNECTION_TIMEOUT=30

# Query execution timeout in seconds
DB_QUERY_TIMEOUT=60

# Enable detailed database logging
DB_ENABLE_LOGGING=true

# ==============================================
# SECURITY SETTINGS
# ==============================================

# Maximum query length (characters)
MAX_QUERY_LENGTH=10000

# Maximum nested query depth
MAX_NESTED_QUERIES=3

# Allow information_schema access
ALLOW_INFORMATION_SCHEMA=true

# Allow system catalog access
ALLOW_SYSTEM_CATALOGS=true

# Connection idle timeout (seconds)
CONNECTION_IDLE_TIMEOUT=3600

# ==============================================
# LOGGING CONFIGURATION
# ==============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (optional, logs to stdout if not specified)
# LOG_FILE=/var/log/mcp-server/database.log

# Enable query logging
LOG_QUERIES=true

# Enable security event logging
LOG_SECURITY_EVENTS=true

# ==============================================
# DEFAULT DATABASE CREDENTIALS (OPTIONAL)
# ==============================================
# Note: These are fallback credentials. Users should provide
# credentials when connecting to databases for security.

# PostgreSQL defaults
DEFAULT_POSTGRES_HOST=localhost
DEFAULT_POSTGRES_PORT=5432
DEFAULT_POSTGRES_USER=postgres
DEFAULT_POSTGRES_DATABASE=postgres

# MySQL defaults
DEFAULT_MYSQL_HOST=localhost
DEFAULT_MYSQL_PORT=3306
DEFAULT_MYSQL_USER=root
DEFAULT_MYSQL_DATABASE=mysql

# SQLite defaults
DEFAULT_SQLITE_PATH=/tmp/default.db

# MongoDB defaults
DEFAULT_MONGODB_HOST=localhost
DEFAULT_MONGODB_PORT=27017
DEFAULT_MONGODB_DATABASE=admin

# ==============================================
# PERFORMANCE TUNING
# ==============================================

# Query result row limit
DEFAULT_ROW_LIMIT=100
MAX_ROW_LIMIT=1000

# Connection pool settings
MIN_POOL_SIZE=1
MAX_POOL_SIZE=10

# Query cache settings
ENABLE_QUERY_CACHE=false
QUERY_CACHE_SIZE=100

# ==============================================
# MONITORING AND METRICS
# ==============================================

# Enable performance monitoring
ENABLE_MONITORING=true

# Metrics collection interval (seconds)
METRICS_INTERVAL=60

# Enable health checks
ENABLE_HEALTH_CHECKS=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=300

# ==============================================
# DEVELOPMENT SETTINGS
# ==============================================

# Enable debug mode
DEBUG=false

# Enable development features
DEV_MODE=false

# Allow dangerous operations in development
# WARNING: Never enable in production!
DEV_ALLOW_UNSAFE_QUERIES=false

# ==============================================
# CORS SETTINGS (for web mode)
# ==============================================

# Allowed origins for CORS (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Allow credentials in CORS
CORS_ALLOW_CREDENTIALS=true

# ==============================================
# SSL/TLS SETTINGS (for web mode)
# ==============================================

# Enable HTTPS
ENABLE_HTTPS=false

# SSL certificate file path
# SSL_CERT_FILE=/path/to/cert.pem

# SSL private key file path
# SSL_KEY_FILE=/path/to/key.pem

# ==============================================
# BACKUP AND RECOVERY
# ==============================================

# Automatic connection cleanup
AUTO_CLEANUP_ENABLED=true

# Cleanup interval (seconds)
CLEANUP_INTERVAL=1800

# Maximum idle time before cleanup (seconds)
MAX_IDLE_TIME=3600

# ==============================================
# CUSTOM EXTENSIONS
# ==============================================

# Enable custom database extensions
ENABLE_EXTENSIONS=false

# Custom extension path
# EXTENSION_PATH=/path/to/extensions

# ==============================================
# ENVIRONMENT OVERRIDES
# ==============================================

# Environment name (development, staging, production)
ENVIRONMENT=development

# Application name
APP_NAME=secure-multi-db-mcp

# Version information
APP_VERSION=1.0.0

# ==============================================
# EXAMPLE DATABASE CONNECTIONS
# ==============================================
# Uncomment and modify for your specific databases

# Example PostgreSQL production database
# PROD_POSTGRES_HOST=prod-db.company.com
# PROD_POSTGRES_PORT=5432
# PROD_POSTGRES_USER=app_user
# PROD_POSTGRES_PASSWORD=secure_password
# PROD_POSTGRES_DATABASE=production_db

# Example MySQL analytics database  
# ANALYTICS_MYSQL_HOST=analytics.company.com
# ANALYTICS_MYSQL_PORT=3306
# ANALYTICS_MYSQL_USER=analyst
# ANALYTICS_MYSQL_PASSWORD=analytics_password
# ANALYTICS_MYSQL_DATABASE=analytics_db

# Example SQLite local database
# LOCAL_SQLITE_PATH=/data/local_database.db

# ==============================================
# DOCKER CONFIGURATION
# ==============================================

# Docker container port mapping
DOCKER_INTERNAL_PORT=8000
DOCKER_EXTERNAL_PORT=8001

# Docker volume mounts
# DOCKER_DATA_VOLUME=/data
# DOCKER_LOG_VOLUME=/logs

# ==============================================
# NOTES
# ==============================================
# 
# 1. Never commit the actual .env file to version control
# 2. Use strong passwords for production databases
# 3. Regularly rotate database credentials
# 4. Monitor connection usage and performance
# 5. Enable logging for security auditing
# 6. Use HTTPS in production environments
# 7. Implement proper firewall rules
# 8. Regularly backup configurations